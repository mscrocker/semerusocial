<header th:fragment="menu">
	<nav id="navbar-main" class="navbar navbar-main navbar-default">
		<div class="row" style="font-size: 16px;">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#navbar-main-body"
					aria-expanded="false" aria-controls="navbar-main">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>


			</div>
			<div id="navbar-main-body" class="collapse navbar-collapse">
				<div id="loggedInOptions" class="col-6 dropdown nav-link ">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown"
						role="button" aria-haspopup="true" aria-expanded="false">Options
						<span aria-hidden="true"></span>
					</a>
					<ul class="dropdown-menu" role="menu">
						<li><a th:href="@{/}">My photos</a></li>
						<li id="logOut"><a th:href="@{/login}">LogOut</a></li>
						<li><a th:href="@{/addImage}">Add new Image</a></li>
					</ul>
				</div>
				<form id="col-6 loginForm" class="nav-link">
					<button id="loginButton" th:formaction="@{/login}"
						class="btn btn-primary" style="margin: 12px; appearance: button;">Login</button>
				</form>
			</div>
		</div>
	</nav>
	<div th:include="fragments/scripts :: user"></div>
	<div th:include="fragments/scripts :: welcome"></div>
	<script>
		
		window.addEventListener("load", () => {
			user.updateLoggedIn("loginButton","[[@{'/users/profile'}]]");
			if (!user.checkLoggedIn()){
				
				document.getElementById("loggedInOptions").classList.add("hidden");
			}
			else {
			    document.getElementById("logOut").onclick = user.logOut
			}
		});
		
	</script>
</header>